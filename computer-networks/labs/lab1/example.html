<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="http://www.cs.ubbcluj.ro/~dadi/compnet/labs/lab1/example_files/filelist.xml">
<title>Lab 1 - Example</title>
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:536871559 0 0 0 415 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:612.0pt 792.0pt;
	margin:72.0pt 65.95pt 72.0pt 65.95pt;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:1258252548;
	mso-list-type:hybrid;
	mso-list-template-ids:458935496 67698693 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:53.85pt;
	mso-level-number-position:left;
	margin-left:53.85pt;
	text-indent:-18.0pt;
	font-family:Wingdings;}
@list l0:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
</head>

<body lang=EN-US link=blue vlink=purple style='tab-interval:36.0pt'>

<div class=Section1>

<p class=MsoNormal style='margin-bottom:12.0pt'><span style='font-size:9.5pt;
font-family:Verdana;color:#666666'><a href="../../index.html">Back to main page</a></span></p>

<p class=MsoNormal style='margin-bottom:12.0pt'><span style='font-size:9.5pt;
font-family:Verdana;color:#666666'>Problem formulation: </span></p>

<p class=MsoNormal style='margin-bottom:12.0pt'><span style='font-size:9.5pt;
font-family:Verdana;color:#666666'>Write a client-server application that
communicates using TCP sockets. The client sends a phrase to the server and the
server answers with the number of space characters from the received string.</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt'><u><span style='font-size:9.5pt;
font-family:Verdana;color:#666666'>The protocol:</span></u></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:12.0pt;
margin-left:18.0pt;text-align:justify;text-indent:-18.0pt'><span
style='font-size:9.5pt;font-family:Verdana;color:#666666'>1.</span><span
style='font-size:7.0pt;color:#666666'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:9.5pt;font-family:Verdana;color:#666666'>The client sends the
string to the server together with the terminating NULL (‘\0’) character. <i>Notice:</i>
It is important to send the terminating NULL character in order for the server
to notice the end of your string. The server needs a way to know how much data
it gets from the client. Either the NULL character or specifying each time the
number of exchanged bytes will do the job.</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:12.0pt;
margin-left:18.0pt;text-align:justify;text-indent:-18.0pt'><span
style='font-size:9.5pt;font-family:Verdana;color:#666666'>2.</span><span
style='font-size:7.0pt;color:#666666'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:9.5pt;font-family:Verdana;color:#666666'>After receiving the
NULL character the server considers that the client has finished its
transmission.</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:12.0pt;
margin-left:18.0pt;text-align:justify;text-indent:-18.0pt'><span
style='font-size:9.5pt;font-family:Verdana;color:#666666'>3.</span><span
style='font-size:7.0pt;color:#666666'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:9.5pt;font-family:Verdana;color:#666666'>If the server does
not receive the NULL char for 10 sec (or there is any other delay greater than
10 <span class=SpellE>secs</span> from the previous received character from the
client) the server closes the client connection. In this situation the server
tries to send back to the client the -1 integer value as an error code (it is
possible that the client is starving for some resources and it’s blocked or the
TCP connection has be disrupted). The protocol specifies that the server <b><i>must</i></b>
implement such a time-out mechanism, but it’s not necessarily the protocol that
specifies how the time-out mechanism should be implemented.</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:12.0pt;
margin-left:18.0pt;text-align:justify;text-indent:-18.0pt'><span
style='font-size:9.5pt;font-family:Verdana;color:#666666'>4.</span><span
style='font-size:7.0pt;color:#666666'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:9.5pt;font-family:Verdana;color:#666666'>The server may count
the space characters either after each received data chunk or after receiving
the entire string. This is not an important issue from the protocol point of
view.</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:12.0pt;
margin-left:18.0pt;text-align:justify;text-indent:-18.0pt'><span
style='font-size:9.5pt;font-family:Verdana;color:#666666'>5.</span><span
style='font-size:7.0pt;color:#666666'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='font-size:9.5pt;font-family:Verdana;color:#666666'>The server returns an
integer N (signed) in binary format, represented on 4 bytes with the following
significance:</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:3.0pt;
margin-left:53.85pt;text-align:justify;text-indent:-18.0pt;mso-list:l0 level1 lfo2;
tab-stops:list 53.85pt'><![if !supportLists]><span style='font-family:Wingdings;
mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.5pt;font-family:Verdana;
color:#666666'>N &gt;= 0 – the number of space characters in the received
string;</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:3.0pt;
margin-left:53.85pt;text-align:justify;text-indent:-18.0pt;mso-list:l0 level1 lfo2;
tab-stops:list 53.85pt'><![if !supportLists]><span style='font-family:Wingdings;
mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.5pt;font-family:Verdana;
color:#666666'>N = -1 – error receiving the string, or the client does not
respect the protocol;</span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:3.0pt;
margin-left:53.85pt;text-align:justify;text-indent:-18.0pt;mso-list:l0 level1 lfo2;
tab-stops:list 53.85pt'><![if !supportLists]><span style='font-family:Wingdings;
mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings'><span
style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-size:9.5pt;font-family:Verdana;
color:#666666'>N = -2 – if the count of spaces cannot be represented on 4 bytes
(with sign) (i.e. greater that 2<sup>31 </sup>-1). On 4 bytes the range of
signed numbers that can be represented is -2<sup>31</sup> … +2<sup>31</sup>-1.</span></p>

<p class=MsoPlainText><span style='font-size:9.5pt;font-family:Verdana;
color:#666666'><o:p>&nbsp;</o:p></span></p>

<p class=MsoPlainText><span style='font-size:9.5pt;font-family:Verdana;
color:#666666'><o:p>&nbsp;</o:p></span></p>

<p class=MsoPlainText><span style='font-size:9.5pt;font-family:Verdana;
color:#666666'>Protocol implementation and problem solving<span class=GramE>:</span><br>
<br>
<a href="client.html" target=client><span style='color:#588CCB'>Client</span></a>
<br>
<a href="server.html" target=client><span style='color:#588CCB'>Server</span></a></span></p>

<p class=MsoPlainText><span style='font-size:9.5pt;font-family:Verdana;
color:#666666'>&nbsp;</span></p>

<p class=MsoPlainText><span style='font-size:9.5pt;font-family:Verdana;
color:#666666'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:12.0pt'><span style='font-size:9.5pt;
font-family:Verdana;color:#666666'><a href="../../index.html">Back to main page</a></span></p>

<p class=MsoPlainText>&nbsp;</p>

</div>

</body>

</html>
